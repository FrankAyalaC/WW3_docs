

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Contenidos y compilación &mdash; WAVEWATCHIII Documentation 6.07 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Test cases" href="test_cases.html" />
    <link rel="prev" title="Configurando el entorno" href="environment.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> WAVEWATCHIII Documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contenidos:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="sys_req.html">System requeriments</a></li>
<li class="toctree-l1"><a class="reference internal" href="get_model.html">Getting the code</a></li>
<li class="toctree-l1"><a class="reference internal" href="init_commands.html">Comandos iniciales</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment.html">Configurando el entorno</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contenidos y compilación</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#principales-programas">Principales programas</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compilacion">Compilación</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creacion-del-setup">Creación del setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#compiladores">Compiladores</a></li>
<li class="toctree-l4"><a class="reference internal" href="#switch">Switch</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#compilacion-a-partir-de-las-configuraciones-hechas">Compilación a partir de las configuraciones hechas</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="test_cases.html">Test cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="prep_conf.html">Preparar configuración</a></li>
<li class="toctree-l1"><a class="reference internal" href="compilation.html">Compilación</a></li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing.html">Preprocesamiento</a></li>
<li class="toctree-l1"><a class="reference internal" href="exe_model.html">Ejecutar el modelo</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">WAVEWATCHIII Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Contenidos y compilación</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/contains_compilation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="contenidos-y-compilacion">
<h1>Contenidos y compilación<a class="headerlink" href="#contenidos-y-compilacion" title="Permalink to this headline">¶</a></h1>
<div class="section" id="principales-programas">
<h2>Principales programas<a class="headerlink" href="#principales-programas" title="Permalink to this headline">¶</a></h2>
<p>Hablar de que es en la carpeta bin dond enos vamos a mover y es importante tener un buen manejo y conocimiento de todo lo que haya en ella, no necesariamente script a scipt pero sí algo recordado</p>
<p>En <code class="docutils literal notranslate"><span class="pre">bin</span></code> se almacenan todos los comandos ejecutables de WW3 para la compilación del mismo.</p>
<ul class="simple">
<li><p>install ww3 tar Script to install WAVEWATCH III from tar files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">w3_setup</span></code>: Script for creating/editing the WAVEWATCH III environment setup file. The default setup file is bin/.wwatch3.env. switch and compiler are given in arguments. (see options, <strong>link a un capítulo dedicado a setup</strong>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">w3_clean</span></code>: Script to clean up WAVEWATCH III directories by removing files generated during compilation or test runs. 3 levels of clean*up. (see options). Cuando hago el clean es como si cambiara el molde pero no la panadería o el entorno de trabajo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">w3_make</span></code>: Script to compile and link components of WAVEWATCH III using a makefile. A list of programs can be given in arguments. Es para hacer los moldes del pan (o casos que quiero trabajar) <strong>link a un capítulo dedicado a compilación</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">w3_automake</span></code>: Script to automatically compile separately sequential and distributed programs in MPI, OMP or HYB depending on the switch file content. A list of programs can be given in arguments.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">w3_new</span></code>: Script to touch all correct source code files to account for changes in compiler switches in combination with the makefile.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ww3_gspl.sh</span></code>: Script to automate use of ww3 gspl program (seeSection 4.4.11). ¿Crear multi…? para qué es …?</p></li>
<li><p>arc wwatch3 tar Program to archive versions of WAVEWATCH III in the directory arc.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ww3_from_ftp.sh</span></code>: Script to download all the binary files not provided by git</p></li>
</ul>
<p><strong>Hablar de los más improtantes para el proyecto</strong></p>
</div>
<div class="section" id="compilacion">
<h2>Compilación<a class="headerlink" href="#compilacion" title="Permalink to this headline">¶</a></h2>
<div class="section" id="creacion-del-setup">
<h3>Creación del setup<a class="headerlink" href="#creacion-del-setup" title="Permalink to this headline">¶</a></h3>
<p>Después de los dos comandos anteriores, WAVEWATCHIII está listo para ser compilado bajo la configuración que requiera el usuario</p>
<p>Para cualquier compilación se escribe el siguiente comando desde el directorio <code class="docutils literal notranslate"><span class="pre">bin</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>w3_setup /home/user/WW3/model -c &lt;comp&gt; -s &lt;switch&gt;
</pre></div>
</div>
<p>En <code class="docutils literal notranslate"><span class="pre">&lt;comp&gt;</span></code> se escribe el nombre del compilador y en <code class="docutils literal notranslate"><span class="pre">&lt;switch&gt;</span></code> el nombre del switch</p>
<div class="section" id="compiladores">
<h4>Compiladores<a class="headerlink" href="#compiladores" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="switch">
<h4>Switch<a class="headerlink" href="#switch" title="Permalink to this headline">¶</a></h4>
<p>EJEMPLO DE UN SWITCH</p>
<p><strong>Primer grupo</strong></p>
<ul class="simple">
<li><p>F90: Swith que selecciona el código dependiente de la máquina. La otra opción disponible es: DUM</p></li>
</ul>
<p><strong>Segundo grupo</strong></p>
<p>Aquí se define el modelo de kardware y el protocolo de transferencia de mensajes hay una pareja de opciones:</p>
<ul class="simple">
<li><p>SHRD shared memory model o  DIST distribuites memory model (hardware)</p></li>
<li><p>SHRD shared memory model o  MPI message passing interface  (messaging)</p></li>
</ul>
<p>Notese que si se selecciona MPI, no puede seleccionarse SHRD en el hardware</p>
<p><strong>Tercer grupo</strong>: Esquemas de propagación</p>
<ul class="simple">
<li><p>PRO, PR1,PR2,PR3,PRX: se elige uno de aquí</p></li>
<li><p>PRO, PR1,UNO,UQ: se elige uno de aquí</p></li>
</ul>
<p><strong>Cuarto grupo</strong>: Selection of flux computation</p>
<ul class="simple">
<li><p>FLX0: Rutinas no usadas, flujo de computación incluida en los términos fuente</p></li>
<li><p>FLX1: velocidad de fricción según una ecuación</p></li>
<li><p>FLX2: vel fricción dede Tolman y CHalikov</p></li>
<li><p>FLX3: Idem</p></li>
<li><p>FLX4: vel fricción según otra ecuación</p></li>
<li><p>FLXX: Definida por usuario</p></li>
</ul>
<p>** Quinto grupo**: Selection of linear input
* ln0: No linear input.
* seed: Spectral seeding of Eq. (3.70).
* ln1: Cavaleri and Malanotte*Rizzoli with filter.
* lnx: Experimental (user supplied)</p>
<p><strong>Sexto grupo</strong>: Selection of input and dissipation, stabn switches are optional and additional to corresponding stn switch:</p>
<ul class="simple">
<li><p>st0 No input and dissipation used.</p></li>
<li><p>st1 WAM3 source term package.</p></li>
<li><p>st2 Tolman and Chalikov (1996) source term package. See also the optional stab2 switch.</p></li>
<li><p>stab0 No stability correction. Compatible with any source term (st) package. Including this switch has no effect.</p></li>
<li><p>stab2 Enable stability correction (2.95) * (2.98). Compatible with st2 only.</p></li>
<li><p>st3 WAM4 and variants source term package.</p></li>
<li><p>stab3 Enable stability correction from Abdalla and Bidlot (2002).Compatible with st3 and st4 only.</p></li>
<li><p>st4 Ardhuin et al. (2010) source term package.</p></li>
<li><p>st6 BYDRZ source term package.</p></li>
<li><p>stx Experimental (user supplied).</p></li>
</ul>
<p><strong>Séptimo grupo</strong>: Selection of nonlinear interactions:
* nl0 No nonlinear interactions used.
* nl1 Discrete interaction approximation (DIA).
* nl2 Exact interaction approximation (WRT).
* nl3 Generalized Multiple DIA (GMD).
* nl4 Two*scale approximation (TSA).
* nlx Experimental (user supplied)</p>
<p><strong>Octavo grupo</strong>: Selection of bottom friction:
* bt0 No bottom friction used.
* bt1 JONSWAP bottom friction formulation.
* bt4 SHOWEX bottom friction formulation.
* bt8 Dalrymple and Liu formulation (fluid mud seafloor).
* bt9 Ng formulation (fluid mud seafloor).
* btx Experimental (user supplied)</p>
<p><strong>Noveno grupo</strong>: Selection of term for damping by sea ice:
* ic0 No damping by sea ice.
* ic1 Simple formulation.
* ic2 Liu et al. formulation.
* ic3 Wang and Shen formulation.
* ic4 Frequency*dependent damping by sea ice</p>
<p><strong>Décimo grupo</strong>: Selection of term for scattering by sea ice:
* is0 No scattering by sea ice.
* is1 Diffusive scattering by sea ice (simple).
* is2 Floe*size dependent scattering and dissipation</p>
<p><strong>Onceavo grupo</strong>: Selection of term for reflection:
* ref0 No reflection.
* ref1 Enables reflection of shorelines and icebergs</p>
<p><strong>Décimo grupo</strong>: Selection depth*induced breaking of :
* db0 No depth*induced breaking used.
* db1 Battjes*Janssen.
* dbx Experimental (user supplied)</p>
<p><strong>Onceavo</strong>: Selection of triad interactions:
* tr0 No triad interactions used.
* tr1 Lumped Triad Interaction (LTA) method.
* trx Experimental (user supplied)</p>
<p>#### Selection of bottom scattering:
* bs0 No bottom scattering used.
* bs1 Magne and Ardhuin.
* bsx Experimental (user supplied).</p>
<p>#### Selection of supplemental source term:
* xx0 No supplemental source term used.
* xxx Experimental (user supplied).</p>
<p>#### Selection of method of wind interpolation (time):
* wnt0 No interpolation.
* wnt1 Linear interpolation.
* wnt2 Approximately quadratic interpolation.</p>
<p>#### Selection of method of wind interpolation (space):
* wnx0 Vector interpolation.
* wnx1 Approximately linear speed interpolation.
* wnx2 Approximately quadratic speed interpolation</p>
<p>#### Selection of method of current interpolation (time):
* crt0 No interpolation
* crt1 Linear interpolation.
* crt2 Approximately quadratic interpolation.</p>
<p>#### Selection of method of current interpolation (space):
* crx0 Vector interpolation
* crx1 Approximate linear speed interpolation.
* crx2 Approximate quadratic speed interpolation.</p>
<p>#### Switch for user supplied GRIB package.
* nogrb No package included.
* ncep1 NCEP GRIB1 package for IBM SP.
* ncep2 NCEP GRIB2 package for IBM SP</p>
<p>#### Opcional switches
* o0: imprime el namelist el el preprocesador de la malla (ww3_grid)
* o1: imprime los puntos límite en el preprocesador de la malla (ww3_grid)
* o2: imprime el mapa de estado de los mapas (ww3_grid)
* o3: imprime el ciclo de cada paso de la compilación en el preprocesador del campo (ww3_prnc)
* o4: Print plot of normalized one*dimensional energy spectrum in initial conditions program (w3_strt)
* o5: Id. two*dimensional energy spectrum.
* o6: Id. spatial distribution of wave heights (not adapted for distributed memory).
* o7: Echo input data for homogeneous fields in generic shell.
* o10: Identify main elements of multi*grid model extensions in standard output.
* o11: Additional log output on management algorithm in log.mww3</p>
<p>Cuando se corre <code class="docutils literal notranslate"><span class="pre">w3_setup</span></code> se crearán 3 scripts/archivos en el directorio <code class="docutils literal notranslate"><span class="pre">bin</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">comp</span></code>: script compilador. Este script está basado en la plantilla comp.tmpl con la definición del compilador y sus opciones. <cite>&lt;comp&gt;</cite> es el compilador que se desea emplear, por lo tanto, es bueno que se verifique cuál es el más aconsejable para su sistema operativo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link</span></code>: script enlazador. Este script está basado en la plantilla link.tmpl con la definición del compilador y sus opciones</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">switch</span></code>: es el archivo que contiene todos los switches que activan las configuraciones que queremos y que son reconocidos por el preprocesador w3adc. Copied from <code class="docutils literal notranslate"><span class="pre">switch</span> <span class="pre">&lt;switch&gt;</span></code></p></li>
</ul>
<p>todos los posible archivos comp, swith y link están en el directorio <code class="docutils literal notranslate"><span class="pre">bin</span></code></p>
<p>Cuando la sentencia anterior se ejecuta algo como esto:</p>
<p><strong>GIF</strong></p>
<p>El archivo de entorno wwatch3.env o actualizado si ya existe. The auxiliary FORTRAN programs for code prepocessor will be compiled using by default the GNU FORTRAN compiler which can be different to the provided compiler for the WAVEWATCH III programs.</p>
<p><strong>¿Qué creo esto comando?</strong></p>
<p>se crea w3_split, w3_prnt, w3_list,w3_adc, switch, comp y link</p>
<ul class="simple">
<li><p>También crea un make_makefile.sh</p></li>
</ul>
<p><strong>GIF</strong></p>
<p>Si desea cambiarse de configuración se recomienda ejecutar el script <code class="docutils literal notranslate"><span class="pre">w3_clean```desde</span> <span class="pre">lel</span> <span class="pre">directorio</span> <span class="pre">``bin</span></code>. Para más información ver este [literal](#limpieza*de*las*configuraciones*realizadas):</p>
</div>
</div>
<div class="section" id="compilacion-a-partir-de-las-configuraciones-hechas">
<h3>Compilación a partir de las configuraciones hechas<a class="headerlink" href="#compilacion-a-partir-de-las-configuraciones-hechas" title="Permalink to this headline">¶</a></h3>
<p>Existen principalemente 2 formas de compilar</p>
<p>### w3_make</p>
<p>Se usa w3_make para compotlar WAVEWATCH, si es usa sin parámetros se usan todos los programs básicos, sino los que acompañen la ejecucuoón de w3_make</p>
<p>### w3_automake</p>
<p>Para una compilación selectiva</p>
<p><cite>w3_automake</cite></p>
<p>or for a few programs</p>
<p><cite>w3_automake ww3_grid ww3_shel ww3_ounf</cite></p>
<p>Se crean las siguiente carpetas:</p>
<p>Relativas a ejecuciones en serie
* mod_SEQ:
* obj_SEQ
* work_SEQ
* tmp_SEQ: se alamacenan los errores, warnings y demás que ocrrieron durante la compilación en serie</p>
<p>Relativas a ejecuciones en paralelo
* mod_MPI:
* obj_MPI
* work_MPI
* tmp_MPI: se alamacenan los errores, warnings y demás que ocrrieron durante la compilación en paralelo</p>
<p>Adicionalmente, los programas compilados serán todos almacenados en el directorio <cite>exe</cite> junto a una copia de los archivos switch, comp y link usados en el setup y sus correspondientes a SEQ y MPI</p>
<p># Limpieza de las configuraciones realizadas</p>
<p>Uso de <cite>w3_clean *c</cite> para tal comandos</p>
<p>Uso de <cite>w3_clean *m</cite> para tal comandos</p>
<p><em>Aprender a  bajar datos de un ftp como el de ifremer</em></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="test_cases.html" class="btn btn-neutral float-right" title="Test cases" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="environment.html" class="btn btn-neutral float-left" title="Configurando el entorno" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Franklin Ayala.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>